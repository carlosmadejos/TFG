package com.example.login_app.service;

import com.example.login_app.model.TrainingPlan;
import com.example.login_app.repository.TrainingPlanRepository;
import org.springframework.stereotype.Service;

import java.util.List;

@Service
public class TrainingPlanService {

    private final TrainingPlanRepository trainingPlanRepository;

    public TrainingPlanService(TrainingPlanRepository trainingPlanRepository) {
        this.trainingPlanRepository = trainingPlanRepository;
    }

    public List<TrainingPlan> getAllTrainingPlans() {
        return trainingPlanRepository.findAll();
    }

    public TrainingPlan getTrainingPlanById(Long id) {
        return trainingPlanRepository.findById(id)
                .orElseThrow(() -> new RuntimeException("Plan de entrenamiento no encontrado"));
    }

    public void addPredefinedPlans() {
        if (trainingPlanRepository.count() == 0) {
            trainingPlanRepository.save(new TrainingPlan(
                    "P√©rdida de Peso",
                    "Este plan est√° dise√±ado para reducir grasa corporal mediante una combinaci√≥n efectiva de cardio y entrenamiento de fuerza. Inicia con una fase de adaptaci√≥n para preparar al cuerpo y luego progresa hacia entrenamientos de mayor intensidad, combinando ejercicios funcionales, pliom√©tricos e HIIT.",
                    "Principiante",
                    8,

                    "<h3>Semana 1-2: Adaptaci√≥n y Movilidad</h3>" +
                            "<p>El objetivo en estas semanas es mejorar la movilidad, fortalecer la base muscular y acostumbrar al cuerpo a la actividad f√≠sica sin generar fatiga excesiva.</p>" +

                            "<ul>" +
                            "   <li><b>Lunes:</b> Caminata r√°pida (30 min) + <b>Entrenamiento de cuerpo completo</b> (3 series de 15 repeticiones)</li>" +
                            "   <ul>" +
                            "       <li>üîπ <b>Sentadillas:</b> Baja lentamente hasta que los muslos est√©n paralelos al suelo. Mant√©n la espalda recta y las rodillas alineadas con los pies. Empuja con los talones para volver a la posici√≥n inicial.</li>" +
                            "       <li>üîπ <b>Flexiones de brazos:</b> Controla el descenso hasta que el pecho casi toque el suelo. Si es dif√≠cil, apoya las rodillas.</li>" +
                            "       <li>üîπ <b>Planchas:</b> Activa el abdomen y los gl√∫teos. Evita que las caderas se hundan o suban demasiado.</li>" +
                            "       <li>üîπ <b>Zancadas:</b> Mant√©n el torso erguido, baja controladamente y empuja con la pierna adelantada para volver a la posici√≥n inicial.</li>" +
                            "   </ul>" +
                            "   <li><b>Martes:</b> Cardio moderado: 40 min de caminata r√°pida o bicicleta est√°tica con resistencia baja.</li>" +
                            "   <li><b>Mi√©rcoles:</b> Descanso activo: Yoga, movilidad articular, estiramientos din√°micos.</li>" +
                            "   <li><b>Jueves:</b> <b>HIIT B√°sico (20 min)</b></li>" +
                            "   <ul>" +
                            "       <li>üî• <b>Sprints:</b> Corre a m√°xima velocidad por 30 segundos, seguido de 30 segundos de descanso. Repite 8 veces.</li>" +
                            "       <li>üî• <b>Burpees:</b> Si es dif√≠cil, omite la flexi√≥n o el salto.</li>" +
                            "       <li>üî• <b>Saltos en caja:</b> Aterriza con las rodillas ligeramente flexionadas para evitar impacto en las articulaciones.</li>" +
                            "   </ul>" +
                            "   <li><b>Viernes:</b> Nataci√≥n o caminata r√°pida (45 min).</li>" +
                            "   <li><b>S√°bado:</b> Cardio de baja intensidad (remo, el√≠ptica, caminata inclinada a ritmo moderado).</li>" +
                            "   <li><b>Domingo:</b> Descanso.</li>" +
                            "</ul>" +

                            "<h3>Semana 3-4: Aumento de la Intensidad</h3>" +
                            "<p>Se incrementa la dificultad incorporando peso adicional, trabajo de resistencia y ejercicios de agilidad.</p>" +
                            "<ul>" +
                            "   <li>‚úÖ Se introduce el uso de pesas ligeras en circuitos funcionales.</li>" +
                            "   <li>‚úÖ Se incorporan ejercicios pliom√©tricos para mejorar potencia y agilidad:</li>" +
                            "   <ul>" +
                            "       <li>üî• <b>Saltos en cuclillas:</b> Realiza una sentadilla profunda y salta explosivamente. Aterriza con control.</li>" +
                            "       <li>üî• <b>Cambios de direcci√≥n:</b> Corre 5 metros en una direcci√≥n y cambia r√°pidamente de sentido.</li>" +
                            "   </ul>" +
                            "</ul>" +

                            "<h3>Semana 5-6: Combinaci√≥n de Fuerza y Cardio</h3>" +
                            "<p>El entrenamiento comienza a enfocarse en la quema cal√≥rica con circuitos de alta intensidad.</p>" +
                            "<ul>" +
                            "   <li>üí™ <b>Ejercicios con resistencia:</b> Se introducen pesas o bandas el√°sticas para aumentar la intensidad.</li>" +
                            "   <li>üèÉ <b>Cardio de alta intensidad:</b> Sprints cortos y ejercicios de escalera de agilidad.</li>" +
                            "   <li>üí• <b>Burpees avanzados:</b> A√±ade una sentadilla extra antes del salto.</li>" +
                            "   <li>üî• <b>Plancha con toques de hombro:</b> Mant√©n el core firme y toca alternativamente los hombros sin mover las caderas.</li>" +
                            "</ul>" +

                            "<h3>Semana 7-8: Definici√≥n y Resistencia</h3>" +
                            "<p>Fase final del plan, centrada en tonificaci√≥n y p√©rdida de grasa.</p>" +
                            "<ul>" +
                            "   <li>üî• <b>Rutinas de resistencia con pesas moderadas:</b> Menos descanso entre series.</li>" +
                            "   <li>üí™ <b>Entrenamiento de circuito:</b> Se combinan ejercicios de fuerza y cardio para mantener un alto gasto cal√≥rico.</li>" +
                            "   <li>üí® <b>Cardio HIIT final:</b> 40 segundos de esfuerzo / 20 segundos de descanso con burpees, sprints y saltos en caja.</li>" +
                            "</ul>" +

                            "<h3>Estiramientos y Movilidad</h3>" +
                            "<p>Los estiramientos son fundamentales para evitar lesiones y mejorar el rendimiento. Realiza cada uno durante 20-30 segundos.</p>" +
                            "<ul>" +
                            "   <li>üßò <b>Estiramiento de cu√°driceps:</b> De pie, lleva un pie hacia el gl√∫teo sujet√°ndolo con la mano. Mant√©n la espalda recta.</li>" +
                            "   <li>üßò <b>Estiramiento de isquiotibiales:</b> Desde posici√≥n de pie, flexiona el torso hacia adelante intentando tocar los dedos de los pies.</li>" +
                            "   <li>üßò <b>Estiramiento de espalda y hombros:</b> Extiende un brazo sobre el pecho y presiona suavemente con la otra mano.</li>" +
                            "   <li>üßò <b>Rotaci√≥n de cadera:</b> De pie, haz c√≠rculos amplios con las caderas en ambas direcciones.</li>" +
                            "</ul>" +

                            "<h3>Nutrici√≥n para la P√©rdida de Peso</h3>" +
                            "<p>Una alimentaci√≥n adecuada potenciar√° la quema de grasa y mejorar√° tu rendimiento.</p>" +
                            "<ul>" +
                            "   <li>ü•© <b>Prioriza prote√≠nas:</b> Pollo, pescado, huevos y legumbres ayudan a preservar la masa muscular.</li>" +
                            "   <li>ü•¶ <b>Consume suficientes vegetales:</b> Aportan fibra y micronutrientes esenciales.</li>" +
                            "   <li>ü•ë <b>Grasas saludables:</b> Aguacate, frutos secos y aceite de oliva son esenciales para la recuperaci√≥n.</li>" +
                            "   <li>üíß <b>Hidrataci√≥n constante:</b> Bebe al menos 2L de agua al d√≠a para optimizar el metabolismo.</li>" +
                            "</ul>" +

                            "<h3>Recuperaci√≥n Muscular</h3>" +
                            "<p>Descansar correctamente es tan importante como entrenar.</p>" +
                            "<ul>" +
                            "   <li>üõå <b>7-9 horas de sue√±o:</b> El descanso adecuado favorece la recuperaci√≥n y el crecimiento muscular.</li>" +
                            "   <li>üßä <b>Ba√±os de agua fr√≠a:</b> Reducen la inflamaci√≥n y alivian el dolor muscular.</li>" +
                            "   <li>üíÜ <b>Masajes y foam rolling:</b> Mejora la circulaci√≥n y relaja la musculatura.</li>" +
                            "   <li>üçΩÔ∏è <b>Comida post-entrenamiento:</b> Consume prote√≠na y carbohidratos para acelerar la recuperaci√≥n.</li>" +
                            "</ul>"
            ));


            trainingPlanRepository.save(new TrainingPlan(
                    "Ganancia Muscular",
                    "Un programa basado en la hipertrofia, fuerza y definici√≥n muscular, con una progresi√≥n √≥ptima. Se divide en tres fases clave: volumen para aumentar masa muscular, fuerza para desarrollar potencia y definici√≥n para mejorar la calidad muscular.",
                    "Intermedio",
                    12,

                    "<h3>Semana 1-4: Volumen (Hipertrofia)</h3>" +
                            "<p>El objetivo en esta fase es maximizar el crecimiento muscular mediante una combinaci√≥n de ejercicios multiarticulares y aislamiento. Se recomienda una alimentaci√≥n alta en prote√≠nas y carbohidratos para potenciar la recuperaci√≥n.</p>" +

                            "<ul>" +
                            "   <li><b>Lunes: Pecho y Tr√≠ceps</b> (4 ejercicios, 4x10 reps)</li>" +
                            "   <ul>" +
                            "       <li>üí™ <b>Press de banca con barra:</b> Fundamental para el desarrollo del pectoral. Mant√©n los pies firmes en el suelo, baja la barra hasta el pecho y empuja explosivamente.</li>" +
                            "       <li>üí™ <b>Fondos en paralelas:</b> Trabaja el pecho y los tr√≠ceps. Baja controladamente hasta que los codos formen un √°ngulo de 90¬∞ y empuja hacia arriba.</li>" +
                            "       <li>üí™ <b>Aperturas con mancuernas:</b> Ideal para ensanchar el pecho. Mant√©n los codos ligeramente flexionados y baja las mancuernas en un arco controlado.</li>" +
                            "       <li>üí™ <b>Extensiones de tr√≠ceps con mancuerna:</b> Sujeta una mancuerna con ambas manos y baja detr√°s de la cabeza, manteniendo los codos fijos.</li>" +
                            "   </ul>" +

                            "   <li><b>Martes: Espalda y B√≠ceps</b> (4 ejercicios, 4x10 reps)</li>" +
                            "   <ul>" +
                            "       <li>üèã <b>Dominadas pronas:</b> Un ejercicio esencial para la espalda. Usa un agarre ancho, sube hasta que la barbilla supere la barra y baja lentamente.</li>" +
                            "       <li>üèã <b>Remo con barra:</b> Mant√©n la espalda recta, lleva la barra hacia el abdomen y controla el movimiento de bajada.</li>" +
                            "       <li>üèã <b>Curl de b√≠ceps con barra:</b> Mant√©n los codos fijos, sube la barra sin balanceo y aprieta los b√≠ceps al final del movimiento.</li>" +
                            "       <li>üèã <b>Face pulls con cuerda:</b> Ayuda a desarrollar los m√∫sculos del trapecio y mejorar la postura.</li>" +
                            "   </ul>" +

                            "   <li><b>Mi√©rcoles: Piernas y Gl√∫teos</b> (5 ejercicios, 4x12 reps)</li>" +
                            "   <ul>" +
                            "       <li>üèã <b>Sentadilla profunda con barra:</b> Baja hasta que las caderas est√©n por debajo de las rodillas, manteniendo la espalda recta.</li>" +
                            "       <li>üèã <b>Peso muerto rumano:</b> Activa los isquiotibiales y gl√∫teos. Mant√©n la barra cerca del cuerpo y baja lentamente.</li>" +
                            "       <li>üèã <b>Hip thrust con barra:</b> Fundamental para la activaci√≥n de gl√∫teos. Apoya la espalda en un banco y empuja con la cadera hacia arriba.</li>" +
                            "       <li>üèã <b>Estocadas con mancuernas:</b> Controla el equilibrio y baja hasta que la rodilla trasera casi toque el suelo.</li>" +
                            "       <li>üèã <b>Elevaci√≥n de talones para gemelos:</b> Realiza el movimiento con rango completo y sost√©n la contracci√≥n m√°xima por 2 segundos.</li>" +
                            "   </ul>" +

                            "   <li><b>Jueves: Hombros y Abdomen</b> (4 ejercicios, 4x10 reps)</li>" +
                            "   <ul>" +
                            "       <li>üèã <b>Press militar con barra:</b> Empuja la barra por encima de la cabeza sin arquear la espalda.</li>" +
                            "       <li>üèã <b>Elevaciones laterales con mancuernas:</b> Levanta las mancuernas hasta la altura de los hombros, sin balanceo.</li>" +
                            "       <li>üèã <b>Planchas con peso:</b> Mant√©n la posici√≥n con un disco en la espalda para mayor intensidad.</li>" +
                            "       <li>üèã <b>Crunch en polea con cuerda:</b> Flexiona el torso hacia abajo manteniendo la tensi√≥n en los abdominales.</li>" +
                            "   </ul>" +

                            "   <li><b>Viernes: Full Body Funcional</b></li>" +
                            "   <ul>" +
                            "       <li>üî• Circuito de alta intensidad con movimientos multiarticulares.</li>" +
                            "   </ul>" +
                            "</ul>" +

                            "<h3>Semana 5-8: Fuerza M√°xima</h3>" +
                            "<p>Se reduce el n√∫mero de repeticiones y se enfoca en aumentar el peso levantado en los ejercicios principales.</p>" +

                            "<ul>" +
                            "   <li>üí™ <b>Ejercicios clave:</b></li>" +
                            "   <ul>" +
                            "       <li>üèã <b>Sentadilla con barra:</b> 5 series de 5 reps con aumento progresivo de carga.</li>" +
                            "       <li>üèã <b>Peso muerto convencional:</b> Mayor control en la fase exc√©ntrica para mejorar la activaci√≥n muscular.</li>" +
                            "       <li>üèã <b>Press banca pesado:</b> T√©cnica estricta con enfoque en fuerza explosiva.</li>" +
                            "       <li>üèã <b>Dominadas con lastre:</b> A√±adir peso extra para aumentar la dificultad.</li>" +
                            "   </ul>" +
                            "</ul>" +

                            "<h3>Semana 9-12: Definici√≥n y Resistencia</h3>" +
                            "<p>Esta fase se centra en mantener la fuerza mientras se aumenta la quema de grasa con superseries y dropsets.</p>" +

                            "<ul>" +
                            "   <li>üî• <b>Ejercicios de superseries:</b> Combina dos ejercicios sin descanso para maximizar el est√≠mulo muscular.</li>" +
                            "   <li>üî• <b>Uso de pesos moderados:</b> 15-20 repeticiones por serie para aumentar la resistencia muscular.</li>" +
                            "   <li>üî• <b>Cardio post-entrenamiento:</b> 20-30 min de cardio moderado para ayudar a la definici√≥n.</li>" +
                            "</ul>"
            ));


            trainingPlanRepository.save(new TrainingPlan(
                    "HIIT",
                    "Rutinas de alta intensidad dise√±adas para maximizar la quema de grasa y mejorar la resistencia cardiovascular en poco tiempo. Este programa combina intervalos de alta exigencia con descansos estrat√©gicos para mejorar el rendimiento.",
                    "Avanzado",
                    6,

                    "<h3>Semana 1-2: Introducci√≥n a HIIT</h3>" +
                            "<p>El objetivo es adaptar el cuerpo a ejercicios de alta intensidad, mejorar la resistencia cardiovascular y acostumbrar las articulaciones al impacto.</p>" +
                            "<ul>" +
                            "   <li>üî• <b>Circuito 1: Sprints</b> (30s esfuerzo / 30s descanso x 8 repeticiones)</li>" +
                            "   <ul>" +
                            "       <li>üèÉ <b>Ejecutando correctamente:</b> Corre a m√°xima velocidad durante 30 segundos, manteniendo el torso erguido y las rodillas elevadas. Descansa caminando o trotando lentamente.</li>" +
                            "       <li>üéØ <b>Beneficio:</b> Mejora explosividad, quema grasa y desarrolla resistencia anaer√≥bica.</li>" +
                            "   </ul>" +

                            "   <li>üî• <b>Circuito 2: Ejercicios de cuerpo completo</b> (4 rondas de 40s trabajo / 20s descanso)</li>" +
                            "   <ul>" +
                            "       <li>üí• <b>Burpees:</b> Desde posici√≥n de pie, baja a una sentadilla, coloca las manos en el suelo, estira las piernas para quedar en posici√≥n de plancha, realiza una flexi√≥n y salta al volver arriba.</li>" +
                            "       <li>üì¶ <b>Saltos en caja:</b> Usa una plataforma estable, flexiona las rodillas y salta sobre la caja aterrizando con control.</li>" +
                            "       <li>üèã <b>Sentadillas con salto:</b> Realiza una sentadilla profunda y al subir, salta explosivamente extendiendo las piernas.</li>" +
                            "   </ul>" +

                            "   <li>‚è≥ <b>Duraci√≥n:</b> 20-25 min por sesi√≥n.</li>" +
                            "</ul>" +

                            "<h3>Semana 3-4: Intensidad en Aumento</h3>" +
                            "<p>Se aumenta la duraci√≥n del esfuerzo y se incorporan nuevos ejercicios con resistencia.</p>" +
                            "<ul>" +
                            "   <li>üî• 40s de esfuerzo / 20s de descanso.</li>" +
                            "   <li>üî• Introducci√≥n de ejercicios con equipamiento funcional.</li>" +
                            "</ul>" +

                            "<h3>Ejercicios Avanzados:</h3>" +
                            "<ul>" +
                            "   <li>üîó <b>Battle Ropes:</b> Ondea las cuerdas con movimientos explosivos alternando los brazos. Mant√©n el core activo.</li>" +
                            "   <li>üîÑ <b>Kettlebell Swings:</b> Agarra la kettlebell con ambas manos, flexiona ligeramente las rodillas y usa la cadera para impulsarla hasta la altura del pecho.</li>" +
                            "   <li>üèã <b>Sentadilla Goblet:</b> Sost√©n una kettlebell o mancuerna en el pecho y realiza sentadillas profundas.</li>" +
                            "   <li>üí• <b>Saltos Pliom√©tricos:</b> Realiza zancadas explosivas alternando las piernas en el aire.</li>" +
                            "</ul>" +

                            "<h3>Semana 5-6: HIIT Extremo</h3>" +
                            "<p>El nivel m√°s desafiante del programa. Se reducen los tiempos de descanso y se incorporan ejercicios combinados.</p>" +
                            "<ul>" +
                            "   <li>üî• <b>Entrenamiento Tabata:</b> 20s trabajo / 10s descanso x 8 rondas por ejercicio.</li>" +
                            "   <li>üî• Uso de bandas de resistencia para mayor intensidad.</li>" +
                            "   <li>üî• Combinaci√≥n de movimientos pliom√©tricos con cardio (ej: sprints + saltos en caja).</li>" +
                            "</ul>"
            ));

        }
    }


}
